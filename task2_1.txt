1. Как получить цепочку вида (()), а не ()() для С-> СС|(C)|e?
Отменить удвоение.
C -> (C)|e
C -> (C) -> ((C)) -> (())
 

2. Цепочка с разными скобками.
C -> CC|(C)|[C]|{C}|e
С -> CC -> (C)C -> (C){C} -> (CC){C} -> ([C]C){C} -> {([C]C)}{C} -> {([C]C)}{[C]} -> {([(C)]C)}{[C]} ->
{([(C)]C)}{[C]C} -> {([(C)]C)}{{[C]C}} -> {([()]C)}{{[C]C}} -> {([()]C)}{{[]C}} -> {([()]{C})}{{[]C}} ->
{([()]{})}{{[]C}} -> {([()]{})}{{[]}}