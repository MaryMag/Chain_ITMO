1. Как получить цепочку вида (()), а не ()() для С-> СС|(C)|e?
с -> с с -> (с с) -> (с сс) -> (с (с)с) -> ((c)c) -> (()c) -> (())
 

2. Цепочка с разными скобками.
C -> CC|(C)|[C]|{C}|e
С -> CC -> (C)C -> (C){C} -> (CC){C} -> ([C]C){C} -> {([C]C)}{C} -> {([C]C)}{[C]} -> {([(C)]C)}{[C]} ->
{([(C)]C)}{[C]C} -> {([(C)]C)}{{[C]C}} -> {([()]C)}{{[C]C}} -> {([()]C)}{{[]C}} -> {([()]{C})}{{[]C}} ->
{([()]{})}{{[]C}} -> {([()]{})}{{[]}}